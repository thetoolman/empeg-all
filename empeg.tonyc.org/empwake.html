<HTML>
<HEAD>


<script type="text/javascript" src="/static/js/analytics.js"></script>
<script type="text/javascript">archive_analytics.values.server_name="wwwb-app4.us.archive.org";archive_analytics.values.server_ms=1329;</script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


<TITLE>empwake</TITLE>
</head><BODY>


<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript">//<![CDATA[
var __wm = (function(imgWidth,imgHeight,yearImgWidth,monthImgWidth){
var wbPrefix = "/web/";
var wbCurrentUrl = "http://empeg.tonyc.org/empwake.html";

var firstYear = 1996;
var displayDay = "13";
var displayMonth = "Feb";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
var $D=document,$=function(n){return document.getElementById(n)};
var trackerVal,curYear = -1,curMonth = -1;
var yearTracker,monthTracker;
function showTrackers(val) {
  if (val===trackerVal) return;
  var $ipp=$("wm-ipp");
  var $y=$("displayYearEl"),$m=$("displayMonthEl"),$d=$("displayDayEl");
  if (val) {
    $ipp.className="hi";
  } else {
    $ipp.className="";
    $y.innerHTML=displayYear;$m.innerHTML=displayMonth;$d.innerHTML=displayDay;
  }
  yearTracker.style.display=val?"inline":"none";
  monthTracker.style.display=val?"inline":"none";
  trackerVal = val;
}
function trackMouseMove(event,element) {
  var eventX = getEventX(event);
  var elementX = getElementX(element);
  var xOff = Math.min(Math.max(0, eventX - elementX),imgWidth);
  var monthOff = xOff % yearImgWidth;

  var year = Math.floor(xOff / yearImgWidth);
  var monthOfYear = Math.min(11,Math.floor(monthOff / monthImgWidth));
  // 1 extra border pixel at the left edge of the year:
  var month = (year * 12) + monthOfYear;
  var day = monthOff % 2==1?15:1;
  var dateString = zeroPad(year + firstYear) + zeroPad(monthOfYear+1,2) +
    zeroPad(day,2) + "000000";

  $("displayYearEl").innerHTML=year+firstYear;
  $("displayMonthEl").innerHTML=prettyMonths[monthOfYear];
  // looks too jarring when it changes..
  //$("displayDayEl").innerHTML=zeroPad(day,2);
  var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
  $("wm-graph-anchor").href=url;

  if(curYear != year) {
    var yrOff = year * yearImgWidth;
    yearTracker.style.left = yrOff + "px";
    curYear = year;
  }
  if(curMonth != month) {
    var mtOff = year + (month * monthImgWidth) + 1;
    monthTracker.style.left = mtOff + "px";
    curMonth = month;
  }
}
function hideToolbar() {
  $("wm-ipp").style.display="none";
}
function bootstrap() {
  var $spk=$("wm-ipp-sparkline");
  yearTracker=$D.createElement('div');
  yearTracker.className='yt';
  with(yearTracker.style){
    display='none';width=yearImgWidth+"px";height=imgHeight+"px";
  }
  monthTracker=$D.createElement('div');
  monthTracker.className='mt';
  with(monthTracker.style){
    display='none';width=monthImgWidth+"px";height=imgHeight+"px";
  }
  $spk.appendChild(yearTracker);
  $spk.appendChild(monthTracker);

  var $ipp=$("wm-ipp");
  $ipp&&disclaimElement($ipp);
}
return{st:showTrackers,mv:trackMouseMove,h:hideToolbar,bt:bootstrap};
})(525, 27, 25, 2);//]]>
</script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  min-width:800px !important;
}
</style>
<div id="wm-ipp" lang="en" style="display:none;">

<div style="position:fixed;left:0;top:0;width:100%!important">
<div id="wm-ipp-inside">
   <table style="width:100%;"><tbody><tr>
   <td id="wm-logo">
       <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
   </td>
   <td class="c">
       <table style="margin:0 auto;"><tbody><tr>
       <td class="u" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://empeg.tonyc.org/empwake.html" style="width:400px;" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090213224840" /><input type="submit" value="Go" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td class="n" rowspan="2">
           <table><tbody>
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr class="m">
           	<td class="b" nowrap="nowrap">
		
		    <a href="/web/20080827200407/http://empeg.tonyc.org/empwake.html" title="27 Aug 2008">AUG</a>
		
		</td>
		<td class="c" id="displayMonthEl" title="You are here: 22:48:40 Feb 13, 2009">FEB</td>
		<td class="f" nowrap="nowrap">
		
		    Mar
		
                </td>
	    </tr>
           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr class="d">
               <td class="b" nowrap="nowrap">
               
                   <a href="/web/20080827200407/http://empeg.tonyc.org/empwake.html" title="20:04:07 Aug 27, 2008"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
               
               </td>
               <td class="c" id="displayDayEl" style="width:34px;font-size:24px;" title="You are here: 22:48:40 Feb 13, 2009">13</td>
	       <td class="f" nowrap="nowrap">
               
                   <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
               
	       </td>
           </tr>
           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr class="y">
	       <td class="b" nowrap="nowrap">
               
                   <a href="/web/20060826213716/http://empeg.tonyc.org/empwake.html" title="26 Aug 2006"><strong>2006</strong></a>
               
               </td>
               <td class="c" id="displayYearEl" title="You are here: 22:48:40 Feb 13, 2009">2009</td>
	       <td class="f" nowrap="nowrap">
               
                   2010
               
	       </td>
           </tr>
           </tbody></table>
       </td>
       </tr>
       <tr>
       <td class="s">
           <a class="t" href="/web/20090213224840*/http://empeg.tonyc.org/empwake.html" title="See a list of every capture for this URL">20 captures</a>
           <div class="r" title="Timespan for captures of this URL">6 Dec 03 - 13 Feb 09</div>
       </td>
       <td class="k">
       <a href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" title="Explore captures for this URL">
	 <img id="sparklineImgId" alt="sparklines"
		 onmouseover="__wm.st(1)" onmouseout="__wm.st(0)"
		 onmousemove="__wm.mv(event,this)"
		 width="525"
		 height="27"
		 border="0"
		 src="/web/jsp/graph.jsp?graphdata=525_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000001_2004:-1:010011001100_2005:-1:011100001000_2006:-1:000000530000_2007:-1:000000000000_2008:-1:000000010000_2009:1:010000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000_2014:-1:000000000000_2015:-1:000000000000_2016:-1:000000000000" />
       </div>
       </a>
       </td>
       </tr></tbody></table>
   </td>
   <td class="r">
       <a href="#close" onclick="__wm.h();return false;" style="background-image:url(/static/images/toolbar/wm_tb_close.png);top:5px;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="background-image:url(/static/images/toolbar/wm_tb_help.png);bottom:5px;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>
</div>
</div>
</div>
<script type="text/javascript">__wm.bt();</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<hr>
<font size="+2" face="Courier New, Courier" color="#000080"><b>empwake</b></font>
<hr>
<img src="empwake1.gif" width="256" height="64"> 
<hr>
Yes it's finally here!  EmpWake is an alarm clock for your Empeg.  You set a time and when that time comes,
your Empeg will play a song or playlist of your choice.  Here's what it looks like on your Empeg.  (It's the
line at the top.)
<P>

<P>
Right now it's kind of limited because you can't save state with user apps yet.  So if you set a time and
you unplug your Empeg, you'll have to set it again.  It does, however, let you set the default alarm time
in your config.ini.  For the same reason, the FID that gets played for your alarm can't be saved between
reboots, although that's moot right now because I haven't implemented the UI for selecting the FID yet.
<P>
<B>Installation:</b><br>
You need to extract the archive, put the binary somewhere on your Empeg, and run it before you
run your player.  It should only be run once, i.e. I haven't tested what happens if you run it more than once
in your init or something.
<P>
If you want to change the FID, time, and "on/off status" defaults, add the following to your config.ini:

<pre>
[empwake]
active=true
time=12:34:56
fid=9100
</pre>

<P>
active = whether you want the alarm to be enabled automatically on startup<BR>
time = Time the alarm gets set to (can be changed in the UI, but won't be saved.)<BR>
fid = the FID number that gets played.  You've got to find the FID number for your playlists yourself.  Use
Hijack's web server to help you out.<BR>

<P>
<B>Limitations:</b><br>
The config.ini syntax parsing *stinks* right now so if you make any mistakes or put any garbage characters
in the [empwake] section it will probably get confused.  I'm doing very little checking of input at this
early stage.

<P>
Anyway, after  running the binary, an "EmpWake" menu option will appear in your Hijack menu.  Selecting it brings up
the main menu.  You can turn the alarm on/off,set the alarm time (which also allows you to see the current time) or select
"OK" to get back to your player.  Knob rotations move the cursor and change values, knob presses select.

<P>
Here's the time setting screen:
<br>
<img src="empwake2.gif" width="256" height="64">

<P>
It's really quite simple at this point.  I hope it's useful for someone.  Let me know what you think.  BTW, This is a]
binary only release right now.  Too much crappy source to clean up and more features I want to implement before I call
it a final release.  The source will come, though.

<p>
<a href="empwake-1.0.tar.gz">empwake v1.0 - 46 kb gzip</a>
<br>

<P>
<pre>
<b>History:</b><br>
1.0   - Full release with source, no other changes from 0.983
0.983 - Semi-experimental relative alarm setting.
          When you go to set the time, you can select the "Set" label and click on it.
          If there's an equals sign (=) next to "Set", that means the time is absolute (like normal.)
          If there's a plus sign (+) next to it, the time you enter will be relative (like
          a countdown timer.)  So you can enter "8:00:00" to have the alarm go off in 8 hours.
0.982 - Early startup crash during loadConfig() is fixed!  I think!
0.981 - Yet more printf()'s.  We seem to be dying in loading config.ini somewhere...
0.98 - Instrumented with lots of printf()'s to hopefully shed light on some startup problems
     - Corrected some UI errors in time setting (thanks Bruno)
     - If alarm is active, setting a new time automatically restarts alarm (this used to work but was broken in 0.97)
     - If fid isn't specified in config file, current song playing is used instead of playing entire player
         Or, in other words, the player will just hit "play" instead of selecting a fid
     - config.ini entries can now be commented out with ; character
0.97 - New UI for setting time.
         A rectangle highlights the active field (hour, minute, or second.)  To accept changes, rotate the knob until the
         entire time is in the rectangle.  To cancel, rotate the knob until the rectangle disappears then click the knob.
         If you've got better ideas for the UI tell me, but I kinda like this
     - Debug printf()'s to find where config.ini is choking
     - Bug fixes
0.96 - Now works when your Empeg is in standby mode
0.95 - First public alpha release
</pre>

<br>
<br>
<a href="index.html">Back</a>




<!--
     FILE ARCHIVED ON 22:48:40 Feb 13, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:23:58 Sep 28, 2016.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
